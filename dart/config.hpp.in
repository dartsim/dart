/* config.hpp. Generated by CMake for @PROJECT_NAME@. */
#pragma once

#include <string>
#include <string_view>

/* Version number */
#define DART_MAJOR_VERSION @DART_MAJOR_VERSION@
#define DART_MINOR_VERSION @DART_MINOR_VERSION@
#define DART_PATCH_VERSION @DART_PATCH_VERSION@

#define DART_VERSION "@DART_VERSION@"
#define DART_VERSION_FULL "@DART_VERSION_FULL@"
#define DART_VERSION_SUFFIX "@DART_VERSION_SUFFIX@"
#define DART_DESCRIPTION "@DART_PKG_DESC@"

#define DART_VERSION_GT(x, y, z)                                               \
  (DART_MAJOR_VERSION < x                                                      \
   || (DART_MAJOR_VERSION <= x                                                 \
       && (DART_MINOR_VERSION < y                                              \
           || (DART_MINOR_VERSION <= y && DART_PATCH_VERSION < z))))

#define DART_VERSION_GE(x, y, z)                                               \
  (DART_MAJOR_VERSION > x                                                      \
   || (DART_MAJOR_VERSION >= x                                                 \
       && (DART_MINOR_VERSION > y                                              \
           || (DART_MINOR_VERSION >= y && DART_PATCH_VERSION >= z))))

#define DART_VERSION_LT(x, y, z)                                               \
  (DART_MAJOR_VERSION > x                                                      \
   || (DART_MAJOR_VERSION >= x                                                 \
       && (DART_MINOR_VERSION > y                                              \
           || (DART_MINOR_VERSION >= y && DART_PATCH_VERSION > z))))

#define DART_VERSION_LE(x, y, z)                                               \
  (DART_MAJOR_VERSION < x                                                      \
   || (DART_MAJOR_VERSION <= x                                                 \
       && (DART_MINOR_VERSION < y                                              \
           || (DART_MINOR_VERSION <= y && DART_PATCH_VERSION <= z))))

#define DART_VERSION_AT_LEAST(x, y, z)                                         \
  DART_VERSION_GE(x, y, z)

#define DART_MAJOR_MINOR_VERSION_AT_LEAST(x, y)                                \
  (DART_MAJOR_VERSION > x                                                      \
   || (DART_MAJOR_VERSION >= x                                                 \
       && (DART_MINOR_VERSION > y || (DART_MINOR_VERSION >= y))))

#define DART_VERSION_AT_MOST(x, y, z)                                          \
  DART_VERSION_LE(x, y, z)

#define DART_MAJOR_MINOR_VERSION_AT_MOST(x, y)                                 \
  (DART_MAJOR_VERSION < x                                                      \
   || (DART_MAJOR_VERSION <= x                                                 \
       && (DART_MINOR_VERSION < y || (DART_MINOR_VERSION <= y))))

// Detect the compiler
#if defined(__clang__)
  #define DART_COMPILER_CLANG
#elif defined(__GNUC__) || defined(__GNUG__)
  #define DART_COMPILER_GCC
#elif defined(_MSC_VER)
  #define DART_COMPILER_MSVC
#endif

// Indicates the build mode used for compiling
#cmakedefine01 DART_BUILD_MODE_DEBUG
#cmakedefine01 DART_BUILD_MODE_RELEASE

#cmakedefine01 HAVE_NLOPT
#cmakedefine01 HAVE_BULLET
#cmakedefine01 HAVE_ODE
#cmakedefine01 HAVE_OCTOMAP
#cmakedefine01 HAVE_SDFORMAT
// TODO(JS): Change names to DART_HAVE_*
// TODO(JS): Use target_compile_definitions(<target_name> PUBLIC
// -DDART_HAVE_*=1)

#cmakedefine01 DART_ENABLE_SIMD

// See #451
#cmakedefine01 ASSIMP_AISCENE_CTOR_DTOR_DEFINED
#cmakedefine01 ASSIMP_AIMATERIAL_CTOR_DTOR_DEFINED

// Workaround for the fact that Bullet does not add the definition to
// BULLET_DEFINITIONS or generate a #cmakedefine header.
#cmakedefine BT_USE_DOUBLE_PRECISION

#cmakedefine01 DART_USE_SYSTEM_IMGUI

#cmakedefine01 DART_BUILD_PROFILE

namespace dart::config {

inline constexpr std::string_view kSourcePath = "@DART_SOURCE_DIR@/";
inline constexpr std::string_view kDataPath = "@DART_SOURCE_DIR@/data/";
inline constexpr std::string_view kDataLocalPath = "@DART_SOURCE_DIR@/data/";
inline constexpr std::string_view kDataGlobalPath
    = "@CMAKE_INSTALL_PREFIX@/@DART_ADDITIONAL_DOCUMENTATION_INSTALL_PATH@/data/";

inline std::string dataPath(std::string_view relative = {})
{
  std::string path(kDataPath);
  path.append(relative);
  return path;
}

inline std::string dataLocalPath(std::string_view relative = {})
{
  std::string path(kDataLocalPath);
  path.append(relative);
  return path;
}

inline std::string dataGlobalPath(std::string_view relative = {})
{
  std::string path(kDataGlobalPath);
  path.append(relative);
  return path;
}

inline std::string sourcePath(std::string_view relative = {})
{
  std::string path(kSourcePath);
  path.append(relative);
  return path;
}

} // namespace dart::config
